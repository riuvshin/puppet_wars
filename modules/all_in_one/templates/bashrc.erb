# Source global definitions
if [ -f /etc/bashrc ]; then
    . /etc/bashrc
fi

unset CATALINA_PID JAVA_HOME JAVA_OPTS CODENVY_DATA_DIR TENANT_MASTERHOST TENANT_REPOSITORY CODENVY_LOCAL_CONF_DIR CATALINA_OPTS

HOST_IP=<%= @ipaddress %>
TENANT_MASTERHOST=<%= scope.lookupvar('all_in_one::prepare_aio_instance::aio_host_url') %>
TENANT_REPOSITORY="repository"
TENANT_MASTERHOST_PROTOCOL="http"
TENANT_MASTERPORT=8080

JMX0="-Dcom.sun.management.jmxremote=true"
JMX1="-Djava.rmi.server.hostname=${HOST_IP}"

CODENVY_DATA_DIR="/home/cl-server/cl-data"
CODENVY_LOGS_DIR="$CODENVY_DATA_DIR/logs"
CODENVY_LOCAL_CONF_DIR="$CODENVY_DATA_DIR/cloud-ide-local-configuration"

MAILSENDER_APPLICATION_SERVER_URL="http://${TENANT_MASTERHOST}:${TENANT_MASTERPORT}/mail/"
ORGANIZATION_SERVICE_APPLICATION_SERVER_URL="http://${TENANT_MASTERHOST}:${TENANT_MASTERPORT}/organization/"

JAVA_HOME="/usr/local/jdk1.7.0_17"
CATALINA_PID="${HOME}/${USER}.pid"
CATALINA_OPTS="$JMX0 $JMX1"
M2_HOME="/usr/local/apache-maven-3.0.4"
M2="$M2_HOME/bin"

PATH=${M2}/bin:${JAVA_HOME}/bin:${JAVA_HOME}/jre/bin:$PATH:$HOME/bin:$HOME/.local/bin

#export ORGANIZATION_SERVICE_IMPL=dummy
export JAVA_HOME JAVA_OPTS CATALINA_PID PATH TENANT_MASTERHOST TENANT_MASTERPORT TENANT_MASTERHOST_PROTOCOL CATALINA_OPTS TENANT_REPOSITORY M2_HOME
export CODENVY_DATA_DIR CODENVY_LOGS_DIR CODENVY_LOCAL_CONF_DIR
export MAILSENDER_APPLICATION_SERVER_URL ORGANIZATION_SERVICE_APPLICATION_SERVER_URL

